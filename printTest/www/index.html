<!DOCTYPE HTML>
<html>

<head>
	<meta name="viewport" content="width=320; user-scalable=no" />
	<meta http-equiv="Content-type" content="text/html; charset=utf-8">
	<title>Cordova Tests</title>
	<link rel="stylesheet" href="css/master.css" type="text/css" media="screen" title="no title">
	<script type="text/javascript" charset="utf-8" src="cordova.js"></script>
	<script type="text/javascript" charset="utf-8" src="js/main.js"></script>
	<script type="text/javascript" charset="utf-8" src="JXPrintPlugin.js"></script>
	<script>

		var successCallback = function (result) {
			alert(result)
		};
		var errorCallback = function (error) {
			alert(error)
		};
		function connectPrinter() {
			//连接打印机
			try {
				JXPrintPlugin.connectPrinter(successCallback, errorCallback);
			} catch (error) {
				alert("Error: " + error)
			}
		}
		function closeConnect() {
			//断开连接
			try {
				JXPrintPlugin.closeConnect(successCallback, errorCallback);
			} catch (error) {
				alert("Error: " + error)
			}
		}
		function setPaperType() {
			//设置纸类型
			try {
				var jsonstr = [0];
				JXPrintPlugin.setPaperType(jsonstr, successCallback, errorCallback);
			} catch (error) {
				alert("Error: " + error)
			}
		}
		function setDensity() {
			//设置浓度
			try {
				var jsonstr = [2];
				JXPrintPlugin.setDensity(jsonstr, successCallback, errorCallback);
			} catch (error) {
				alert("Error: " + error)
			}
		}
		function setPaperFeed() {
			//走纸
			try {
				var jsonstr = [5];
				JXPrintPlugin.setPaperFeed(jsonstr, successCallback, errorCallback);
			} catch (error) {
				alert("Error: " + error)
			}
		}
		function setPaperBack() {
			//退纸
			try {
				var jsonstr = [1];
				JXPrintPlugin.setPaperBack(jsonstr, successCallback, errorCallback);
			} catch (error) {
				alert("Error: " + error)
			}
		}
		function printSelfCheck() {
			//打印自检页
			try {
				JXPrintPlugin.printSelfCheck(successCallback, errorCallback);
			} catch (error) {
				alert("Error: " + error)
			}
		}
		function printText() {
			//打印文本
			try {
				var jsonstr = ["打印文本演示\n"];
				JXPrintPlugin.printText(jsonstr, successCallback, errorCallback);
			} catch (error) {
				alert("Error: " + error)
			}
		}
		function printBarCode() {
			//打印条码
			try {
				var jsonstr = [9, 0, 76, 6, "abc123"];
				JXPrintPlugin.printBarCode(jsonstr, successCallback, errorCallback);
			} catch (error) {
				alert("Error: " + error)
			}
		}
		function printImage() {
			//打印图片
			try {
				var jsonstr = ["img.jpg", 3, 0, false];
				JXPrintPlugin.printImage(jsonstr, successCallback, errorCallback);
			} catch (error) {
				alert("Error: " + error)
			}
		}
		function printTable() {
			//打印表格
			try {
				//创建表格
				var tableTitle = ["品名;数量;单价;金额",";","14,6,6,6"];
				JXPrintPlugin.createTable(tableTitle, null, errorCallback);
				//添加行
				var tableRow1 = ["保鲜袋;10.00;1;10.00"];
				var tableRow2 = ["铁丝挂钩;5.00;2;10.00"];
				var tableRow3 = ["雨伞;5.00;3;15.00"];
				JXPrintPlugin.addRow(tableRow1, null, errorCallback);
				JXPrintPlugin.addRow(tableRow2, null, errorCallback);
				JXPrintPlugin.addRow(tableRow3, null, errorCallback);
				//打印表格
				JXPrintPlugin.printTable(successCallback, errorCallback);
			} catch (error) {
				alert("Error: " + error)
			}
		}
		function setFont() {
			//设置字体
			try {
				var jsonstr = [0];
				JXPrintPlugin.setFont(jsonstr, successCallback, errorCallback);
			} catch (error) {
				alert("Error: " + error)
			}
		}
		function setPrinter() {
			//设置打印格式
			try {
				var jsonstr = [0];
				JXPrintPlugin.setPrinter(jsonstr, successCallback, errorCallback);
			} catch (error) {
				alert("Error: " + error)
			}
		}
		function initPrinter() {
			//初始化打印机，清除缓存
			try {
				JXPrintPlugin.initPrinter(successCallback, errorCallback);
			} catch (error) {
				alert("Error: " + error)
			}
		}
		function read() {
			//获取返回值
			try {
				var jsonstr = [0];
				JXPrintPlugin.read(jsonstr, successCallback, errorCallback);
			} catch (error) {
				alert("Error: " + error)
			}
		}
		function sendBytesData() {
			//发送数据
			try {
				var jsonstr = [0];
				JXPrintPlugin.read(jsonstr, successCallback, errorCallback);
			} catch (error) {
				alert("Error: " + error)
			}
		}

	</script>
</head>

<body onload="onLoad()" onunload="onUnLoaded()" id="stage" class="theme">
	<h1>jxprint js test</h1>
	<div id="info">
		<h4>jxprint js test</h4>
	</div>
	<div>
		<button class="btn large" style="width:100px;height:50px" onclick="connectPrinter();"> 连接打印机 </button>
		<button class="btn large" style="width:100px;height:50px" onclick="closeConnect();"> 断开连接 </button>
		<button class="btn large" style="width:100px;height:50px" onclick="setPaperType();"> 设置纸类型 </button>
		<button class="btn large" style="width:100px;height:50px" onclick="setDensity();"> 设置浓度 </button>
		<button class="btn large" style="width:100px;height:50px" onclick="printBarCode();"> 打印条码 </button>
		<button class="btn large" style="width:100px;height:50px" onclick="printTable();"> 打印表格 </button>
		<button class="btn large" style="width:100px;height:50px" onclick="printSelfCheck();"> 打印自检页 </button>
		<button class="btn large" style="width:100px;height:50px" onclick="printText();"> 打印文本 </button>
		<button class="btn large" style="width:100px;height:50px" onclick="printImage();"> 打印图片 </button>

	</div>
</body>

</html>